// Translation system for akkistech website
export const translations = {
  en: {
    nav: {
      home: 'Home',
      services: 'Services',
      contact: 'Contact',
      about: 'About'
    },
    hero: {
      tagline: 'Innovative Software Solutions'
    },
    services: {
      web: {
        title: 'Web',
        heading: 'Web Development',
        description: 'Corporate websites, E-Commerce solutions, Landing pages, CMS integration, Web performance optimization',
        cta: 'Learn More'
      },
      mobile: {
        title: 'Mobile',
        heading: 'Mobile Development', 
        description: 'iOS & Android Apps, React Native, Flutter, PWA, App Store Publishing, IoT Integration',
        cta: 'Learn More'
      },
      backend: {
        title: 'Backend',
        heading: 'Backend & API Services',
        description: 'Custom Backend, REST & GraphQL APIs, Database Design, ERP/CRM Integration, Microservices',
        cta: 'Learn More'
      },
      design: {
        title: 'Design',
        heading: 'UI/UX & Design',
        description: 'User Interface Design, Prototyping, UX Research, Corporate Identity, Animation & Micro-interactions',
        cta: 'Learn More'
      },
      cloud: {
        title: 'Cloud',
        heading: 'Cloud & DevOps',
        description: 'AWS, Azure, GCP, Docker, Kubernetes, CI/CD Pipelines, High Availability, Disaster Recovery',
        cta: 'Learn More'
      },
      security: {
        title: 'Security',
        heading: 'Security & Compliance',
        description: 'PenTest, Vulnerability Scans, SSL/TLS, WAF, DDoS Protection, GDPR Compliance, Data Encryption',
        cta: 'Learn More'
      },
      seo: {
        title: 'SEO',
        heading: 'SEO & Digital Marketing',
        description: 'Technical SEO, Content Strategy, Google Analytics, Online Advertising, Social Media Integration',
        cta: 'Learn More'
      },
      ai: {
        title: 'AI',
        heading: 'AI & Data Services',
        description: 'AI Chatbots, Recommendation Systems, NLP, Computer Vision, Data Science, Predictive Analytics, RPA',
        cta: 'Learn More'
      },
      support: {
        title: 'Support',
        heading: 'Maintenance & Support',
        description: 'Hosting Management, Software Updates, 24/7 SLA Support, Bug Fixes, User Training',
        cta: 'Learn More'
      },
      consulting: {
        title: 'Consulting',
        heading: 'Consulting & Strategy',
        description: 'Digital Transformation, Technology Consulting, Product Strategy, Agile Coaching, AI-Ready Planning',
        cta: 'Learn More'
      }
    },
    contact: {
      title: 'Contact',
      heading: 'Let\'s Talk',
      description: 'Ready for your next project?<br>Contact our expert team.',
      email: 'Email',
      phone: 'Phone',
      location: 'Location',
      cta: 'Send Email',
      formTitle: 'Contact Form',
      formHeading: 'Send us a Message',
      formName: 'Your Name *',
      formEmail: 'Your Email *',
      formPhone: 'Phone Number',
      formMessage: 'Your Message *',
      formServiceSelect: 'Select Service (Optional)',
      formSubmit: 'Send Message',
      formSending: 'Sending...',
      quickContactTitle: 'Quick Contact',
      quickContactHeading: 'Connect with Us',
      whatsapp: 'WhatsApp',
      call: 'Call Us',
      locationTitle: 'Our Location',
      locationHeading: 'Find Us in Bremen',
      bremenOffice: 'Bremen Office',
      bremenAddress: 'Findorff<br>28215 Bremen<br>Germany',
      servicesHeading: 'What We Offer'
    },
    footer: {
      tagline: 'Full-Stack Development • AI Solutions • Cloud Services',
      company: 'Company',
      about: 'About Us',
      contact: 'Contact',
      imprint: 'Imprint',
      privacy: 'Privacy',
      copyright: '© 2024 akkistech. All rights reserved.',
      credits: 'Shader effects inspired by'
    },
    common: {
      getStarted: 'Get Started',
      services: 'Services',
      technologies: 'Technologies',
      techStack: 'Tech Stack',
      process: 'Process',
      tools: 'Tools'
    }
  },
  
  de: {
    nav: {
      home: 'Startseite',
      services: 'Services',
      contact: 'Kontakt',
      about: 'Über uns'
    },
    hero: {
      tagline: 'Innovative Software-Lösungen'
    },
    services: {
      web: {
        title: 'Web',
        heading: 'Web-Entwicklung',
        description: 'Unternehmenswebsites, E-Commerce-Lösungen, Landing Pages, CMS-Integration, Web-Performance-Optimierung',
        cta: 'Mehr erfahren'
      },
      mobile: {
        title: 'Mobile',
        heading: 'Mobile Entwicklung',
        description: 'iOS & Android Apps, React Native, Flutter, PWA, App Store Veröffentlichung, IoT Integration',
        cta: 'Mehr erfahren'
      },
      backend: {
        title: 'Backend',
        heading: 'Backend & API Services',
        description: 'Custom Backend, REST & GraphQL APIs, Datenbankdesign, ERP/CRM Integration, Microservices',
        cta: 'Mehr erfahren'
      },
      design: {
        title: 'Design',
        heading: 'UI/UX & Design',
        description: 'User Interface Design, Prototyping, UX-Forschung, Corporate Identity, Animation & Micro-Interactions',
        cta: 'Mehr erfahren'
      },
      cloud: {
        title: 'Cloud',
        heading: 'Cloud & DevOps',
        description: 'AWS, Azure, GCP, Docker, Kubernetes, CI/CD Pipelines, Hochverfügbarkeit, Disaster Recovery',
        cta: 'Mehr erfahren'
      },
      security: {
        title: 'Security',
        heading: 'Sicherheit & Compliance',
        description: 'PenTest, Vulnerability Scans, SSL/TLS, WAF, DDoS-Schutz, DSGVO-Compliance, Datenverschlüsselung',
        cta: 'Mehr erfahren'
      },
      seo: {
        title: 'SEO',
        heading: 'SEO & Digital Marketing',
        description: 'Technical SEO, Content-Strategie, Google Analytics, Online-Werbung, Social Media Integration',
        cta: 'Mehr erfahren'
      },
      ai: {
        title: 'AI',
        heading: 'AI & Data Services',
        description: 'AI Chatbots, Empfehlungssysteme, NLP, Computer Vision, Data Science, Predictive Analytics, RPA',
        cta: 'Mehr erfahren'
      },
      support: {
        title: 'Support',
        heading: 'Wartung & Support',
        description: 'Hosting-Management, Software-Updates, 24/7 SLA Support, Bug-Fixes, Benutzerschulung',
        cta: 'Mehr erfahren'
      },
      consulting: {
        title: 'Beratung',
        heading: 'Beratung & Strategie',
        description: 'Digitale Transformation, Technologie-Beratung, Produktstrategie, Agile Coaching, AI-Ready Planung',
        cta: 'Mehr erfahren'
      }
    },
    contact: {
      title: 'Kontakt',
      heading: 'Lassen Sie uns sprechen',
      description: 'Bereit für Ihr nächstes Projekt?<br>Kontaktieren Sie unser Expertenteam.',
      email: 'E-Mail',
      phone: 'Telefon',
      location: 'Standort',
      cta: 'E-Mail senden',
      formTitle: 'Kontaktformular',
      formHeading: 'Senden Sie uns eine Nachricht',
      formName: 'Ihr Name *',
      formEmail: 'Ihre E-Mail *',
      formPhone: 'Telefonnummer',
      formMessage: 'Ihre Nachricht *',
      formServiceSelect: 'Service auswählen (Optional)',
      formSubmit: 'Nachricht senden',
      formSending: 'Wird gesendet...',
      quickContactTitle: 'Schnellkontakt',
      quickContactHeading: 'Verbinden Sie sich mit uns',
      whatsapp: 'WhatsApp',
      call: 'Anrufen',
      locationTitle: 'Unser Standort',
      locationHeading: 'Finden Sie uns in Bremen',
      bremenOffice: 'Bremen Büro',
      bremenAddress: 'Findorff<br>28215 Bremen<br>Deutschland',
      servicesHeading: 'Was wir anbieten'
    },
    footer: {
      tagline: 'Full-Stack Entwicklung • AI Lösungen • Cloud Services',
      company: 'Unternehmen',
      about: 'Über uns',
      contact: 'Kontakt',
      imprint: 'Impressum',
      privacy: 'Datenschutz',
      copyright: '© 2024 akkistech. Alle Rechte vorbehalten.',
      credits: 'Shader-Effekte inspiriert von'
    },
    common: {
      getStarted: 'Los geht\'s',
      services: 'Services',
      technologies: 'Technologien',
      techStack: 'Tech Stack',
      process: 'Prozess',
      tools: 'Tools'
    }
  },

  tr: {
    nav: {
      home: 'Ana Sayfa',
      services: 'Hizmetler',
      contact: 'İletişim',
      about: 'Hakkımızda'
    },
    hero: {
      tagline: 'Yenilikçi Yazılım Çözümleri'
    },
    services: {
      web: {
        title: 'Web',
        heading: 'Web Geliştirme',
        description: 'Kurumsal web siteleri, E-Ticaret çözümleri, Landing sayfalar, CMS entegrasyonu, Web performans optimizasyonu',
        cta: 'Daha Fazla'
      },
      mobile: {
        title: 'Mobil',
        heading: 'Mobil Geliştirme',
        description: 'iOS & Android Uygulamaları, React Native, Flutter, PWA, App Store Yayınlama, IoT Entegrasyonu',
        cta: 'Daha Fazla'
      },
      backend: {
        title: 'Backend',
        heading: 'Backend & API Hizmetleri',
        description: 'Özel Backend, REST & GraphQL API\'lar, Veritabanı Tasarımı, ERP/CRM Entegrasyonu, Microservices',
        cta: 'Daha Fazla'
      },
      design: {
        title: 'Tasarım',
        heading: 'UI/UX & Tasarım',
        description: 'Kullanıcı Arayüzü Tasarımı, Prototipleme, UX Araştırması, Kurumsal Kimlik, Animasyon & Micro-etkileşimler',
        cta: 'Daha Fazla'
      },
      cloud: {
        title: 'Bulut',
        heading: 'Bulut & DevOps',
        description: 'AWS, Azure, GCP, Docker, Kubernetes, CI/CD Pipeline\'ları, Yüksek Erişilebilirlik, Felaket Kurtarma',
        cta: 'Daha Fazla'
      },
      security: {
        title: 'Güvenlik',
        heading: 'Güvenlik & Uyumluluk',
        description: 'PenTest, Güvenlik Açığı Taramaları, SSL/TLS, WAF, DDoS Koruması, GDPR Uyumluluğu, Veri Şifreleme',
        cta: 'Daha Fazla'
      },
      seo: {
        title: 'SEO',
        heading: 'SEO & Dijital Pazarlama',
        description: 'Teknik SEO, İçerik Stratejisi, Google Analytics, Online Reklamcılık, Sosyal Medya Entegrasyonu',
        cta: 'Daha Fazla'
      },
      ai: {
        title: 'AI',
        heading: 'AI & Veri Hizmetleri',
        description: 'AI Chatbot\'lar, Öneri Sistemleri, NLP, Bilgisayarlı Görü, Veri Bilimi, Tahmine Dayalı Analitik, RPA',
        cta: 'Daha Fazla'
      },
      support: {
        title: 'Destek',
        heading: 'Bakım & Destek',
        description: 'Hosting Yönetimi, Yazılım Güncellemeleri, 7/24 SLA Desteği, Hata Düzeltmeleri, Kullanıcı Eğitimi',
        cta: 'Daha Fazla'
      },
      consulting: {
        title: 'Danışmanlık',
        heading: 'Danışmanlık & Strateji',
        description: 'Dijital Dönüşüm, Teknoloji Danışmanlığı, Ürün Stratejisi, Agile Koçluk, AI-Hazır Planlama',
        cta: 'Daha Fazla'
      }
    },
    contact: {
      title: 'İletişim',
      heading: 'Konuşalım',
      description: 'Bir sonraki projeniz için hazır mısınız?<br>Uzman ekibimizle iletişime geçin.',
      email: 'E-posta',
      phone: 'Telefon',
      location: 'Konum',
      cta: 'E-posta Gönder',
      formTitle: 'İletişim Formu',
      formHeading: 'Bize Mesaj Gönderin',
      formName: 'Adınız *',
      formEmail: 'E-posta Adresiniz *',
      formPhone: 'Telefon Numarası',
      formMessage: 'Mesajınız *',
      formServiceSelect: 'Hizmet Seçin (İsteğe Bağlı)',
      formSubmit: 'Mesaj Gönder',
      formSending: 'Gönderiliyor...',
      quickContactTitle: 'Hızlı İletişim',
      quickContactHeading: 'Bizimle İletişime Geçin',
      whatsapp: 'WhatsApp',
      call: 'Ara',
      locationTitle: 'Konumumuz',
      locationHeading: 'Bremen\'de Bizi Bulun',
      bremenOffice: 'Bremen Ofisi',
      bremenAddress: 'Findorff<br>28215 Bremen<br>Almanya',
      servicesHeading: 'Neler Sunuyoruz'
    },
    footer: {
      tagline: 'Full-Stack Geliştirme • AI Çözümleri • Bulut Hizmetleri',
      company: 'Şirket',
      about: 'Hakkımızda',
      contact: 'İletişim',
      imprint: 'Künye',
      privacy: 'Gizlilik',
      copyright: '© 2024 akkistech. Tüm hakları saklıdır.',
      credits: 'Shader efektleri şundan ilham alınmıştır'
    },
    common: {
      getStarted: 'Başlayalım',
      services: 'Hizmetler',
      technologies: 'Teknolojiler',
      techStack: 'Teknoloji Yığını',
      process: 'Süreç',
      tools: 'Araçlar'
    }
  }
};

// Language detection and management
export class LanguageManager {
  constructor() {
    this.currentLang = this.detectLanguage();
    this.init();
  }

  detectLanguage() {
    // Check localStorage first
    const savedLang = localStorage.getItem('akkistech-language');
    if (savedLang && translations[savedLang]) {
      return savedLang;
    }

    // Check browser language
    const browserLang = navigator.language.toLowerCase();
    if (browserLang.startsWith('de')) return 'de';
    if (browserLang.startsWith('tr')) return 'tr';
    return 'en'; // default
  }

  init() {
    this.updateContent();
    this.setupLanguageSwitcher();
    this.updateHTML();
  }

  setupLanguageSwitcher() {
    const langButtons = document.querySelectorAll('.lang-btn');
    
    langButtons.forEach(btn => {
      btn.addEventListener('click', (e) => {
        const lang = e.target.dataset.lang;
        this.switchLanguage(lang);
      });

      // Set active button
      if (btn.dataset.lang === this.currentLang) {
        btn.classList.add('active');
      } else {
        btn.classList.remove('active');
      }
    });
  }

  switchLanguage(lang) {
    console.log('Switching to language:', lang);
    if (!translations[lang]) {
      console.error('Language not found:', lang);
      return;
    }

    this.currentLang = lang;
    localStorage.setItem('akkistech-language', lang);
    
    console.log('Updating content for:', lang);
    this.updateContent();
    this.updateHTML();
    this.setupLanguageSwitcher();
  }

  updateHTML() {
    document.documentElement.lang = this.currentLang;
    
    // Update meta tags
    const title = document.querySelector('title');
    const description = document.querySelector('meta[name="description"]');
    
    const titleTexts = {
      en: 'akkistech - Innovative Software Solutions | Full-Stack Development & AI Services',
      de: 'akkistech - Innovative Software-Lösungen | Full-Stack Entwicklung & AI Services', 
      tr: 'akkistech - Yenilikçi Yazılım Çözümleri | Full-Stack Geliştirme & AI Hizmetleri'
    };

    const descTexts = {
      en: 'Professional Software Development, AI Solutions, Web & Mobile Development, Cloud Services. Bremen, Germany.',
      de: 'Professionelle Software-Entwicklung, AI-Lösungen, Web & Mobile Development, Cloud Services. Bremen, Deutschland.',
      tr: 'Profesyonel Yazılım Geliştirme, AI Çözümleri, Web & Mobil Geliştirme, Bulut Hizmetleri. Bremen, Almanya.'
    };

    if (title) title.textContent = titleTexts[this.currentLang];
    if (description) description.content = descTexts[this.currentLang];
  }

  updateContent() {
    const elements = document.querySelectorAll('[data-translate]');
    
    elements.forEach(element => {
      const key = element.dataset.translate;
      const text = this.getTranslation(key);
      if (text) {
        element.innerHTML = text;
      }
    });

    // Translate placeholder attributes
    const placeholderElements = document.querySelectorAll('[data-translate-placeholder]');
    placeholderElements.forEach(element => {
      const key = element.dataset.translatePlaceholder;
      const translation = this.getTranslation(key);
      if (translation) {
        element.placeholder = translation;
      }
    });

    // Update tagline (new header markup)
    const headerTagline = document.querySelector('.header__tagline');
    if (headerTagline) {
      headerTagline.textContent = translations[this.currentLang].hero.tagline;
    }
  }

  getTranslation(key) {
    const keys = key.split('.');
    let value = translations[this.currentLang];
    
    for (const k of keys) {
      value = value?.[k];
    }
    
    return value;
  }
}
