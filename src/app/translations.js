// Translation system for akkistech website
export const translations = {
  en: {
    nav: {
      services: 'Services',
      contact: 'Contact',
      about: 'About'
    },
    hero: {
      tagline: 'Innovative Software Solutions'
    },
    services: {
      web: {
        title: 'Web',
        heading: 'Web Development',
        description: 'Corporate websites, E-Commerce solutions, Landing pages, CMS integration, Web performance optimization',
        cta: 'Start Project'
      },
      mobile: {
        title: 'Mobile',
        heading: 'Mobile Development', 
        description: 'iOS & Android Apps, React Native, Flutter, PWA, App Store Publishing, IoT Integration',
        cta: 'Develop App'
      },
      backend: {
        title: 'Backend',
        heading: 'Backend & API Services',
        description: 'Custom Backend, REST & GraphQL APIs, Database Design, ERP/CRM Integration, Microservices',
        cta: 'Build API'
      },
      design: {
        title: 'Design',
        heading: 'UI/UX & Design',
        description: 'User Interface Design, Prototyping, UX Research, Corporate Identity, Animation & Micro-interactions',
        cta: 'Request Design'
      },
      cloud: {
        title: 'Cloud',
        heading: 'Cloud & DevOps',
        description: 'AWS, Azure, GCP, Docker, Kubernetes, CI/CD Pipelines, High Availability, Disaster Recovery',
        cta: 'Cloud Setup'
      },
      security: {
        title: 'Security',
        heading: 'Security & Compliance',
        description: 'PenTest, Vulnerability Scans, SSL/TLS, WAF, DDoS Protection, GDPR Compliance, Data Encryption',
        cta: 'Security Audit'
      },
      seo: {
        title: 'SEO',
        heading: 'SEO & Digital Marketing',
        description: 'Technical SEO, Content Strategy, Google Analytics, Online Advertising, Social Media Integration',
        cta: 'SEO Analysis'
      },
      ai: {
        title: 'AI',
        heading: 'AI & Data Services',
        description: 'AI Chatbots, Recommendation Systems, NLP, Computer Vision, Data Science, Predictive Analytics, RPA',
        cta: 'AI Solution'
      },
      support: {
        title: 'Support',
        heading: 'Maintenance & Support',
        description: 'Hosting Management, Software Updates, 24/7 SLA Support, Bug Fixes, User Training',
        cta: 'Request Support'
      },
      consulting: {
        title: 'Consulting',
        heading: 'Consulting & Strategy',
        description: 'Digital Transformation, Technology Consulting, Product Strategy, Agile Coaching, AI-Ready Planning',
        cta: 'Book Consultation'
      }
    },
    contact: {
      title: 'Contact',
      heading: 'Let\'s Talk',
      description: 'Ready for your next project?<br>Contact our expert team.',
      email: 'Email',
      phone: 'Phone',
      location: 'Location',
      cta: 'Send Email'
    },
    footer: {
      tagline: 'Full-Stack Development • AI Solutions • Cloud Services',
      projects: 'Our Projects',
      company: 'Company',
      about: 'About Us',
      contact: 'Contact',
      imprint: 'Imprint',
      privacy: 'Privacy',
      copyright: '© 2024 akkistech. All rights reserved.',
      credits: 'Shader effects inspired by'
    }
  },
  
  de: {
    nav: {
      services: 'Services',
      contact: 'Kontakt',
      about: 'Über uns'
    },
    hero: {
      tagline: 'Innovative Software-Lösungen'
    },
    services: {
      web: {
        title: 'Web',
        heading: 'Web-Entwicklung',
        description: 'Unternehmenswebsites, E-Commerce-Lösungen, Landing Pages, CMS-Integration, Web-Performance-Optimierung',
        cta: 'Projekt starten'
      },
      mobile: {
        title: 'Mobile',
        heading: 'Mobile Entwicklung',
        description: 'iOS & Android Apps, React Native, Flutter, PWA, App Store Veröffentlichung, IoT Integration',
        cta: 'App entwickeln'
      },
      backend: {
        title: 'Backend',
        heading: 'Backend & API Services',
        description: 'Custom Backend, REST & GraphQL APIs, Datenbankdesign, ERP/CRM Integration, Microservices',
        cta: 'API entwickeln'
      },
      design: {
        title: 'Design',
        heading: 'UI/UX & Design',
        description: 'User Interface Design, Prototyping, UX-Forschung, Corporate Identity, Animation & Micro-Interactions',
        cta: 'Design anfragen'
      },
      cloud: {
        title: 'Cloud',
        heading: 'Cloud & DevOps',
        description: 'AWS, Azure, GCP, Docker, Kubernetes, CI/CD Pipelines, Hochverfügbarkeit, Disaster Recovery',
        cta: 'Cloud Setup'
      },
      security: {
        title: 'Security',
        heading: 'Sicherheit & Compliance',
        description: 'PenTest, Vulnerability Scans, SSL/TLS, WAF, DDoS-Schutz, DSGVO-Compliance, Datenverschlüsselung',
        cta: 'Security Audit'
      },
      seo: {
        title: 'SEO',
        heading: 'SEO & Digital Marketing',
        description: 'Technical SEO, Content-Strategie, Google Analytics, Online-Werbung, Social Media Integration',
        cta: 'SEO Analyse'
      },
      ai: {
        title: 'AI',
        heading: 'AI & Data Services',
        description: 'AI Chatbots, Empfehlungssysteme, NLP, Computer Vision, Data Science, Predictive Analytics, RPA',
        cta: 'AI Lösung'
      },
      support: {
        title: 'Support',
        heading: 'Wartung & Support',
        description: 'Hosting-Management, Software-Updates, 24/7 SLA Support, Bug-Fixes, Benutzerschulung',
        cta: 'Support anfragen'
      },
      consulting: {
        title: 'Beratung',
        heading: 'Beratung & Strategie',
        description: 'Digitale Transformation, Technologie-Beratung, Produktstrategie, Agile Coaching, AI-Ready Planung',
        cta: 'Beratung buchen'
      }
    },
    contact: {
      title: 'Kontakt',
      heading: 'Lassen Sie uns sprechen',
      description: 'Bereit für Ihr nächstes Projekt?<br>Kontaktieren Sie unser Expertenteam.',
      email: 'E-Mail',
      phone: 'Telefon',
      location: 'Standort',
      cta: 'E-Mail senden'
    },
    footer: {
      tagline: 'Full-Stack Entwicklung • AI Lösungen • Cloud Services',
      projects: 'Unsere Projekte',
      company: 'Unternehmen',
      about: 'Über uns',
      contact: 'Kontakt',
      imprint: 'Impressum',
      privacy: 'Datenschutz',
      copyright: '© 2024 akkistech. Alle Rechte vorbehalten.',
      credits: 'Shader-Effekte inspiriert von'
    }
  },

  tr: {
    nav: {
      services: 'Hizmetler',
      contact: 'İletişim',
      about: 'Hakkımızda'
    },
    hero: {
      tagline: 'Yenilikçi Yazılım Çözümleri'
    },
    services: {
      web: {
        title: 'Web',
        heading: 'Web Geliştirme',
        description: 'Kurumsal web siteleri, E-Ticaret çözümleri, Landing sayfalar, CMS entegrasyonu, Web performans optimizasyonu',
        cta: 'Projeyi Başlat'
      },
      mobile: {
        title: 'Mobil',
        heading: 'Mobil Geliştirme',
        description: 'iOS & Android Uygulamaları, React Native, Flutter, PWA, App Store Yayınlama, IoT Entegrasyonu',
        cta: 'Uygulama Geliştir'
      },
      backend: {
        title: 'Backend',
        heading: 'Backend & API Hizmetleri',
        description: 'Özel Backend, REST & GraphQL API\'lar, Veritabanı Tasarımı, ERP/CRM Entegrasyonu, Microservices',
        cta: 'API Geliştir'
      },
      design: {
        title: 'Tasarım',
        heading: 'UI/UX & Tasarım',
        description: 'Kullanıcı Arayüzü Tasarımı, Prototipleme, UX Araştırması, Kurumsal Kimlik, Animasyon & Micro-etkileşimler',
        cta: 'Tasarım Talep Et'
      },
      cloud: {
        title: 'Bulut',
        heading: 'Bulut & DevOps',
        description: 'AWS, Azure, GCP, Docker, Kubernetes, CI/CD Pipeline\'ları, Yüksek Erişilebilirlik, Felaket Kurtarma',
        cta: 'Bulut Kurulum'
      },
      security: {
        title: 'Güvenlik',
        heading: 'Güvenlik & Uyumluluk',
        description: 'PenTest, Güvenlik Açığı Taramaları, SSL/TLS, WAF, DDoS Koruması, GDPR Uyumluluğu, Veri Şifreleme',
        cta: 'Güvenlik Denetimi'
      },
      seo: {
        title: 'SEO',
        heading: 'SEO & Dijital Pazarlama',
        description: 'Teknik SEO, İçerik Stratejisi, Google Analytics, Online Reklamcılık, Sosyal Medya Entegrasyonu',
        cta: 'SEO Analizi'
      },
      ai: {
        title: 'AI',
        heading: 'AI & Veri Hizmetleri',
        description: 'AI Chatbot\'lar, Öneri Sistemleri, NLP, Bilgisayarlı Görü, Veri Bilimi, Tahmine Dayalı Analitik, RPA',
        cta: 'AI Çözümü'
      },
      support: {
        title: 'Destek',
        heading: 'Bakım & Destek',
        description: 'Hosting Yönetimi, Yazılım Güncellemeleri, 7/24 SLA Desteği, Hata Düzeltmeleri, Kullanıcı Eğitimi',
        cta: 'Destek Talep Et'
      },
      consulting: {
        title: 'Danışmanlık',
        heading: 'Danışmanlık & Strateji',
        description: 'Dijital Dönüşüm, Teknoloji Danışmanlığı, Ürün Stratejisi, Agile Koçluk, AI-Hazır Planlama',
        cta: 'Danışmanlık Rezerve Et'
      }
    },
    contact: {
      title: 'İletişim',
      heading: 'Konuşalım',
      description: 'Bir sonraki projeniz için hazır mısınız?<br>Uzman ekibimizle iletişime geçin.',
      email: 'E-posta',
      phone: 'Telefon',
      location: 'Konum',
      cta: 'E-posta Gönder'
    },
    footer: {
      tagline: 'Full-Stack Geliştirme • AI Çözümleri • Bulut Hizmetleri',
      projects: 'Projelerimiz',
      company: 'Şirket',
      about: 'Hakkımızda',
      contact: 'İletişim',
      imprint: 'Künye',
      privacy: 'Gizlilik',
      copyright: '© 2024 akkistech. Tüm hakları saklıdır.',
      credits: 'Shader efektleri şundan ilham alınmıştır'
    }
  }
};

// Language detection and management
export class LanguageManager {
  constructor() {
    this.currentLang = this.detectLanguage();
    this.init();
  }

  detectLanguage() {
    // Check localStorage first
    const savedLang = localStorage.getItem('akkistech-language');
    if (savedLang && translations[savedLang]) {
      return savedLang;
    }

    // Check browser language
    const browserLang = navigator.language.toLowerCase();
    if (browserLang.startsWith('de')) return 'de';
    if (browserLang.startsWith('tr')) return 'tr';
    return 'en'; // default
  }

  init() {
    this.updateContent();
    this.setupLanguageSwitcher();
    this.updateHTML();
  }

  setupLanguageSwitcher() {
    const langButtons = document.querySelectorAll('.lang-btn');
    
    langButtons.forEach(btn => {
      btn.addEventListener('click', (e) => {
        const lang = e.target.dataset.lang;
        this.switchLanguage(lang);
      });

      // Set active button
      if (btn.dataset.lang === this.currentLang) {
        btn.classList.add('active');
      } else {
        btn.classList.remove('active');
      }
    });
  }

  switchLanguage(lang) {
    console.log('Switching to language:', lang);
    if (!translations[lang]) {
      console.error('Language not found:', lang);
      return;
    }

    this.currentLang = lang;
    localStorage.setItem('akkistech-language', lang);
    
    console.log('Updating content for:', lang);
    this.updateContent();
    this.updateHTML();
    this.setupLanguageSwitcher();
  }

  updateHTML() {
    document.documentElement.lang = this.currentLang;
    
    // Update meta tags
    const title = document.querySelector('title');
    const description = document.querySelector('meta[name="description"]');
    
    const titleTexts = {
      en: 'akkistech - Innovative Software Solutions | Full-Stack Development & AI Services',
      de: 'akkistech - Innovative Software-Lösungen | Full-Stack Entwicklung & AI Services', 
      tr: 'akkistech - Yenilikçi Yazılım Çözümleri | Full-Stack Geliştirme & AI Hizmetleri'
    };

    const descTexts = {
      en: 'Professional Software Development, AI Solutions, Web & Mobile Development, Cloud Services. Bremen, Hamburg, Germany.',
      de: 'Professionelle Software-Entwicklung, AI-Lösungen, Web & Mobile Development, Cloud Services. Bremen, Hamburg, Deutschland.',
      tr: 'Profesyonel Yazılım Geliştirme, AI Çözümleri, Web & Mobil Geliştirme, Bulut Hizmetleri. Bremen, Hamburg, Almanya.'
    };

    if (title) title.textContent = titleTexts[this.currentLang];
    if (description) description.content = descTexts[this.currentLang];
  }

  updateContent() {
    const elements = document.querySelectorAll('[data-translate]');
    
    elements.forEach(element => {
      const key = element.dataset.translate;
      const text = this.getTranslation(key);
      if (text) {
        element.innerHTML = text;
      }
    });

    // Update tagline
    const tagline = document.querySelector('.frame__tagline');
    if (tagline) {
      tagline.textContent = translations[this.currentLang].hero.tagline;
    }
  }

  getTranslation(key) {
    const keys = key.split('.');
    let value = translations[this.currentLang];
    
    for (const k of keys) {
      value = value?.[k];
    }
    
    return value;
  }
}
